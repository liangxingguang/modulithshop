import{Q as y,r as _,f as p,$ as v,ax as B,p as $,v as w,y as o,z as n,D as C,A as b,L as V,K as A}from"./index-78223f15.js";import{a as I,E as R}from"./form-item-8b9adddb.js";/* empty css               */import{E as k}from"./image-viewer-32b8c113.js";/* empty css              */import{E as D,a as S}from"./step-486a0d8a.js";import{h as E}from"./helper-16193b38.js";import{_ as h}from"./_plugin-vue_export-helper-c27b6911.js";import"./castArray-c12d26ef.js";import"./_baseClone-95bc8770.js";import"./_Uint8Array-e95ddee1.js";import"./_initCloneObject-cfd68362.js";import"./debounce-429b1daa.js";import"./index-089c6298.js";import"./dayjs.min-31f5447d.js";const z=y({setup(){const e=_(""),r=_("default"),f=_();let c=p({new_email:"",verify_code:""}),g=p({bind_access_token:"",verify_code:""});const s=p({new_email:[{validator:(a,l,t)=>{console.log(E.email(l)),l===""?t(new Error(v("请输入邮箱账户"))):E.email(l)?t(new Error(v("邮箱地址错误"))):t()},trigger:"blur"}]}),d=p({});let i=()=>{B({}).then(a=>{if(a){let l=new FileReader;l.onload=function(t){e.value=t.target.result},l.readAsDataURL(a)}})};return i(),{formSize:r,ruleForm1:c,ruleFormRef:f,ruleForm2:g,rules1:s,rules2:d,imgCode:e,getImage:i,submitForm:async a=>{a&&await a.validate((l,t)=>{l?console.log("submit!"):console.log("error submit!",t)})}}}});const U={class:"page"};function L(e,r,f,c,g,F){const s=S,d=D,i=V,m=R,a=k,l=A,t=I;return $(),w("div",U,[o(d,{active:1},{default:n(()=>[o(s,{title:e.$t("输入新邮箱")},null,8,["title"]),o(s,{title:e.$t("验证新邮箱")},null,8,["title"]),o(s,{title:e.$t("完成")},null,8,["title"])]),_:1}),o(t,{ref:"ruleFormRef",model:e.ruleForm1,rules:e.rules1,"label-width":"120px",class:"demo-ruleForm"},{default:n(()=>[o(m,{label:e.$t("邮箱账户"),prop:"new_email"},{default:n(()=>[o(i,{modelValue:e.ruleForm1.new_email,"onUpdate:modelValue":r[0]||(r[0]=u=>e.ruleForm1.new_email=u)},null,8,["modelValue"])]),_:1},8,["label"]),o(m,{label:e.$t("验证码")},{default:n(()=>[o(i,{modelValue:e.ruleForm1.verify_code,"onUpdate:modelValue":r[1]||(r[1]=u=>e.ruleForm1.verify_code=u),prop:"verify_code",placeholder:""},{append:n(()=>[o(l,{style:{padding:"0",width:"102px"},onClick:e.getImage},{default:n(()=>[o(a,{class:"img-responsive",style:{"margin-top":"-5px"},src:e.imgCode,fit:"cover",lazy:""},null,8,["src"])]),_:1},8,["onClick"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),o(m,null,{default:n(()=>[o(l,{type:"primary",onClick:r[2]||(r[2]=u=>e.submitForm(e.ruleFormRef))},{default:n(()=>[C(b(e.$t("下一步")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])])}const Z=h(z,[["render",L],["__scopeId","data-v-0dc37337"]]);export{Z as default};
