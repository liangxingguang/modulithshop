import{u as $,f as v,$ as i,r as h,i as k,t as D,am as I,a8 as U,b4 as L,p as d,v as p,x as b,A as c,y as t,z as r,E as T,F as V,K as q,C as N,I as j,D as g,L as w}from"./index-78223f15.js";/* empty css               */import{a as R,E as S}from"./form-item-8b9adddb.js";import{_ as z}from"./Img-372f434f.js";/* empty css                       */import{E as G,a as H}from"./checkbox-9b81128d.js";import{E as K}from"./cascader-panel-78ede08c.js";/* empty css              */import"./popper-7ac694e5.js";import"./tag-c15f0a42.js";import"./radio-4fcd33f8.js";import"./scrollbar-afb507b1.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";import"./castArray-c12d26ef.js";import"./_baseClone-95bc8770.js";import"./_Uint8Array-e95ddee1.js";import"./_initCloneObject-cfd68362.js";import"./overlay-46bc55b6.js";import"./refs-eab7d2f3.js";import"./isUndefined-aa0326a0.js";import"./progress-bb109638.js";import"./cloneDeep-2e723db0.js";import"./isEqual-528f6bc1.js";/* empty css             */import"./index-97ee7e1c.js";import"./index-f7dfb3b1.js";import"./hasIn-61fe7d07.js";import"./flatten-011cba25.js";import"./rand-14326ce1.js";import"./strings-4bc551b5.js";import"./arrays-e667dc24.js";import"./index-b0526b91.js";import"./debounce-429b1daa.js";const O={name:"detail",setup(){const e=$();let o=v({active:1,userTypes:[],isLoading:!1,ifState:!0,areaList:[],form:{},rules:{company_name:[{required:!0,trigger:"blur",message:i("请输入企业全称")}],contacts_department:[{required:!0,trigger:"blur",message:i("请输入职位")}],contacts_name:[{required:!0,trigger:"blur",message:i("请输入联系人")}],contacts_phone:[{required:!0,trigger:"blur",message:i("请输入联系人电话")}],company_address:[{required:!0,trigger:"blur",message:i("请输入公司详细地址")}],type_ids:[{required:!0,trigger:"change",message:i("请选择公司类别")}],district_info:[{required:!0,trigger:"change",message:i("请选择公司地址")}]}});const F=h(),m=h(""),C=h(),E=l=>{o.form.company_business_license=l[0]},n=()=>{e.push({path:"/user/account/company"})},u=()=>{I({}).then(l=>{l.data?(o.form=Object.assign({},l.data),o.form.district_info=[l.data.company_province_id,l.data.company_city_id,l.data.company_county_id],l.data.type_ids.trim()&&(o.form.type_ids=l.data.type_ids.split(",").map(Number)),o.isLoading=!1):o.form={}})};let B=l=>{let y=C.value.getCheckedNodes(),s=y[0].pathValues,a=y[0].pathLabels;o.form.district_info=s,o.form.company_province=a[0],o.form.company_city=a[1],o.form.company_county=a[2],o.form.company_province_id=s[0],o.form.company_city_id=s[1],o.form.company_county_id=s[2]};const f=()=>{U({is_three:0}).then(l=>{o.areaList=l.data})},_=async()=>{const{data:l}=await L({type_enable:1,size:500});o.userTypes=l.items};return k(()=>{_(),u(),f()}),{formRef:F,styleType:m,handleIndex:n,imgChang:E,areaCheng:B,getCompanyData:u,initTypes:_,getDistrictArea:f,...D(o)}}};const J={class:"right-title-box"},P={class:"first-title"},Q={style:{display:"flex","justify-content":"center","padding-top":"30px"}},W={style:{"margin-top":"20px","padding-bottom":"20px","text-align":"center"}},X={key:0},Y={key:1},Z={key:2};function x(e,o,F,m,C,E){const n=w,u=S,B=K,f=G,_=H,l=z,y=R,s=q;return d(),p(V,null,[b("div",J,[b("div",P,c(e.$t("企业信息")),1)]),b("div",Q,[t(y,{ref:"formRef",disabled:e.ifState,"label-width":"140px",model:e.form,rules:e.rules,style:{width:"500px"}},{default:r(()=>[t(u,{label:e.$t("企业全称"),prop:"company_name"},{default:r(()=>[t(n,{modelValue:e.form.company_name,"onUpdate:modelValue":o[0]||(o[0]=a=>e.form.company_name=a),clearable:"",placeholder:e.$t("请输入企业全称")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(u,{label:e.$t("职位"),prop:"contacts_department"},{default:r(()=>[t(n,{modelValue:e.form.contacts_department,"onUpdate:modelValue":o[1]||(o[1]=a=>e.form.contacts_department=a),clearable:"",placeholder:e.$t("请输入职位")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(u,{label:e.$t("联系人"),prop:"contacts_name"},{default:r(()=>[t(n,{modelValue:e.form.contacts_name,"onUpdate:modelValue":o[2]||(o[2]=a=>e.form.contacts_name=a),clearable:"",placeholder:e.$t("请输入联系人")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(u,{label:e.$t("联系人电话"),prop:"contacts_phone"},{default:r(()=>[t(n,{modelValue:e.form.contacts_phone,"onUpdate:modelValue":o[3]||(o[3]=a=>e.form.contacts_phone=a),clearable:"",placeholder:e.$t("请输入联系人电话")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(u,{label:e.$t("联系人邮箱"),prop:"contacts_email"},{default:r(()=>[t(n,{modelValue:e.form.contacts_email,"onUpdate:modelValue":o[4]||(o[4]=a=>e.form.contacts_email=a),clearable:"",placeholder:e.$t("请输入联系人邮箱")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(u,{label:e.$t("省市区"),prop:"district_info"},{default:r(()=>[t(B,{ref:"cascaderAddress",modelValue:e.form.district_info,"onUpdate:modelValue":o[5]||(o[5]=a=>e.form.district_info=a),options:e.areaList,props:{label:"district_name",value:"district_id"},onChange:m.areaCheng,clearable:!0},null,8,["modelValue","options","onChange"])]),_:1},8,["label"]),t(u,{label:e.$t("公司详细地址"),prop:"company_address"},{default:r(()=>[t(n,{modelValue:e.form.company_address,"onUpdate:modelValue":o[6]||(o[6]=a=>e.form.company_address=a),clearable:"",placeholder:e.$t("请输入公司详细地址")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(u,{label:e.$t("纳税人识别号"),prop:"company_code"},{default:r(()=>[t(n,{modelValue:e.form.company_code,"onUpdate:modelValue":o[7]||(o[7]=a=>e.form.company_code=a),clearable:"",placeholder:e.$t("请输入纳税人识别号")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(u,{label:e.$t("企业类别"),prop:"type_ids"},{default:r(()=>[t(_,{modelValue:e.form.type_ids,"onUpdate:modelValue":o[8]||(o[8]=a=>e.form.type_ids=a)},{default:r(()=>[(d(!0),p(V,null,N(e.userTypes,(a,A)=>(d(),j(f,{key:A,label:a.type_id},{default:r(()=>[g(c(a.type_title),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(u,{label:e.$t("营业执照"),prop:"company_business_license"},{default:r(()=>[t(l,{styleType:m.styleType,fileIamge:e.form.company_business_license,limit:1,onChange:m.imgChang},null,8,["styleType","fileIamge","onChange"])]),_:1},8,["label"])]),_:1},8,["disabled","model","rules"])]),b("div",W,[e.form&&e.form.company_state==1?(d(),p("div",X,[t(s,{type:"primary",class:"content-right-bot bgj",onClick:m.handleIndex},{default:r(()=>[g(c(e.$t("取消申请")),1)]),_:1},8,["onClick"])])):e.form&&e.form.company_state==2?(d(),p("div",Y,[t(s,{type:"success",class:"content-right-bot bgj"},{default:r(()=>[g(c(e.$t("审核通过")),1)]),_:1})])):e.form&&e.form.company_state==3?(d(),p("div",Z,[t(s,{type:"warning",class:"content-right-bot bgj",onClick:m.handleIndex},{default:r(()=>[g(c(e.$t("重新提交")),1)]),_:1},8,["onClick"])])):T("",!0)])],64)}const Te=M(O,[["render",x],["__scopeId","data-v-3996b959"]]);export{Te as default};
