import{dq as P,dI as S,u as $,g as D,f as k,o as L,i as U,t as B,U as F,$ as A,n as v,p as l,v as u,x as o,A as p,P as N,F as b,C as R,E as h,y as m,z as y,I as V,J as j,D as E,aW as q}from"./index-78223f15.js";import{v as M}from"./loading-9148d0db.js";import{E as O}from"./pagination-fbb635bb.js";/* empty css              */import"./tag-c15f0a42.js";import"./select-0ae9fab1.js";import"./scrollbar-afb507b1.js";import"./popper-7ac694e5.js";/* empty css             */import{E as W}from"./image-viewer-32b8c113.js";import{d as J,w as K}from"./favorites-47663057.js";import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";import"./isEqual-528f6bc1.js";import"./_Uint8Array-e95ddee1.js";import"./strings-4bc551b5.js";import"./debounce-429b1daa.js";import"./_baseIteratee-58952620.js";import"./hasIn-61fe7d07.js";import"./index-b0526b91.js";import"./isUndefined-aa0326a0.js";const x={name:"item",components:{StarFilled:P,Box:S},setup(){const t=$(),{addCart:a}=D();let r=k({listsOrder:[],loading:!1,isdata:!0}),n=k({page:1,size:36,total:0}),d=()=>{r.loading=!0,J(n).then(s=>{if(s.status==200){let i=s.data;r.listsOrder=i.items,n.total=i.records,i.items.length>0?r.isdata=!0:r.isdata=!1}else r.isdata=!1;r.loading=!1})},C=()=>{d()};L((s,i)=>{d()});const _=s=>{a({item_id:s,cart_quantity:1,SKU_Id:s},t)},g=s=>{t.push({path:"/product/detail",query:{item_id:s}})},c=async s=>{const{msg:i,status:f}=await K({item_id:s});f==200?(F.success(A("已取消收藏!")),d()):F.error(i)};return U(()=>{d()}),{getLists:d,addCartItem:_,checkApplicationId:C,removeWish:c,jumpProductDetail:g,...B(r),...B(n)}}};const G={class:"right-title-box"},H={class:"first-title"},Q={key:0,class:"primary-list"},X=["onClick"],Y={class:"p-name"},Z={class:"price-wrap"},tt={class:"price"},et={class:"symbol"},st={key:1,class:"empty-box"},at={class:"empty-text"},ot={key:2,class:"sortPagiBar",style:{clear:"both"}},it={class:"bottom-pagination"};function rt(t,a,r,n,d,C){const _=W,g=v("StarFilled"),c=j,s=v("Box"),i=v("router-link"),f=O,z=M;return l(),u(b,null,[o("div",G,[o("div",H,p(t.$t("我的收藏")),1)]),t.isdata?N((l(),u("div",Q,[(l(!0),u(b,null,R(t.listsOrder,(e,I)=>(l(),u("div",{class:"item",key:I,onClick:w=>n.jumpProductDetail(e.item_id)},[m(_,{src:e.product_image,fit:"cover",class:"img"},null,8,["src"]),o("div",Y,p(e.product_item_name),1),o("div",Z,[o("text",tt,[o("span",et,p(t.$t("￥")),1),E(p(e.item_unit_price),1)])]),o("div",null,[m(c,{class:"wish-button",onClick:q(w=>n.removeWish(e.item_id),["stop"])},{default:y(()=>[m(g)]),_:2},1032,["onClick"])])],8,X))),128))])),[[z,t.loading]]):h("",!0),t.isdata?h("",!0):(l(),u("div",st,[m(c,{class:"empty-icon"},{default:y(()=>[m(s)]),_:1}),o("div",at,p(t.$t("您还没有收藏过任何内容哦！")),1),m(i,{to:"/index",class:"empty-btn"},{default:y(()=>[E(p(t.$t("去首页逛逛")),1)]),_:1})])),t.total?(l(),u("div",ot,[o("div",it,[o("nav",null,[(l(),V(f,{currentPage:t.page,"onUpdate:currentPage":a[0]||(a[0]=e=>t.page=e),"page-size":t.size,"onUpdate:pageSize":a[1]||(a[1]=e=>t.size=e),"page-sizes":[10,20,30,40],small:!1,disabled:!1,background:!0,layout:"prev,pager,next,total,jumper",total:t.total,key:t.page,onSizeChange:a[2]||(a[2]=e=>{t.size=e,n.getLists()}),onCurrentChange:a[3]||(a[3]=e=>{t.page=e,n.getLists()})},null,8,["currentPage","page-size","total"]))])])])):h("",!0)],64)}const It=T(x,[["render",rt],["__scopeId","data-v-3aad8b1a"]]);export{It as default};
