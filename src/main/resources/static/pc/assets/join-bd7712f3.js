import{_ as G,a as O,b as W}from"./TopHeader-f45ab375.js";import{_ as X}from"./index-076df689.js";import{l as Y,s as Z,c as ee,q as te,b as oe,d as se,u as ae,r as L,e as ne,f as b,o as re,$ as v,g as q,h as le,w as ie,i as ce,k as _e,t as ue,bf as de,m as pe,be as me,n as k,p as h,v as f,x as l,y as o,z as c,A as T,B as ge,F as B,C as he,D as U,E as fe,J as ye,K as we,L as be,Q as ve}from"./index-78223f15.js";import{E as ke}from"./link-b90f23b3.js";import{E as Se}from"./image-viewer-32b8c113.js";import{E as Ie}from"./overlay-46bc55b6.js";/* empty css              *//* empty css               *//* empty css             */import{V as Ve}from"./vue-qr-37f68bf5.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-1163d38c.js";import"./index-f7dfb3b1.js";import"./sub-menu-3ebd82bd.js";import"./index-70426aac.js";import"./popper-7ac694e5.js";import"./isUndefined-aa0326a0.js";/* empty css                */import"./debounce-429b1daa.js";import"./refs-eab7d2f3.js";const Ce={name:"header",components:{Location:Y,Search:Z,VueQr:Ve,CaretBottom:ee,QuestionFilled:te,ArrowRight:oe,ShoppingTrolley:se},setup(){const s=ae(),a=L("1"),u=ne();b({});let e=b({dialogVisiblePop:!1,hasLogin:!1,loading:!1,isTopImg:!0,userRow:{},cart_count:0,label:"",searchIndex:0,keywords:"",key_type:u.query.key_type||1,path:"/product/lists",isShow:!1,headerNav:[],productCategoryNav:[],isHome:!1,default_site_row:"",dialogVisible:!1,subsite_hot_rows:[],subsite_current_row:{},citys:[],isSubsite:!1,search_hot_words:[],search_history_words:[],suggest_search_words:{},current_label:"zh-CN",current_img:"https://static.shopsuite.cn/shopsuite/flags/square/5322affbc4d56.png",routeUrl:"",customSite:[],currentSite:[],isSite:!1,current_language:"中文"}),y=L(""),d=L("");d.value=u.name,re((t,i)=>{e.routeUrl=t.path,d.value=t.name,d.value!="index"&&(e.isHome=!1)});const r=b([{label:v("商品"),path:"/product/search",type:1},{label:v("服务"),path:"/product/search",type:4},{label:v("店铺"),path:"/store/lists",type:5}]),p=()=>{let t=b({});t=me();let i=de();for(let g in t.items)t.items[g].lang==i&&(e.current_label=t.items[g].label,e.current_img=t.items[g].img)},{getUserInfo:m,resetAll:w,setCustomSite:S,logout:I,setCartNum:N}=q();le(async()=>{console.log("*******onBeforeMount jointHeader******");for(var t in r)r[t].type==parseInt(e.key_type)&&(e.label=v(r[t].label),e.path=r[t].path)});const _=q();let V=()=>{I()},C=()=>{const t=_.getIndexLayout;t.page_pc_nav.length>0&&(e.headerNav=t.page_pc_nav),t.category_nav.length>0&&(e.productCategoryNav=t.category_nav),pe({}).then(i=>{i.status==200&&(e.search_hot_words=i.data.search_hot_words,e.search_history_words=i.data.search_history_words,e.suggest_search_words=i.data.suggest_search_words,e.keywords||(e.keywords=i.data.suggest_search_words.default_search_words))})},E=t=>{e.cart_count=t};const n=()=>{let t={key_type:e.key_type,keywords:y.value};s.push({path:"/product/lists",query:t})},x=t=>{y.value=t};let A=()=>{let t={key_type:e.key_type,keywords:e.keywords};s.push({path:"/product/lists",query:t})},F=t=>{e.searchIndex=t,e.key_type=r[t].type,e.path=r[t].path};ie(()=>{document.title=="undefined"&&(document.title=_.info.site_name),e.keywords=u.query.keywords,e.key_type=u.query.key_type||1,e.current_language=localStorage.getItem("current_language")||"中文"});let H=()=>{e.isShow=!0},M=()=>{e.isShow=!1};const P=()=>{e.isSubsite=!0},R=()=>{e.isSubsite=!1},z=()=>{localStorage.setItem("pop_pc_enable","1")},J=(t,i,g,D,ze,Je)=>{D?window.location.href="//"+D:(S(t,i,g),location.reload())},j=()=>{e.isTopImg=!1,localStorage.setItem("isTopImg","1")},Q=()=>{e.isSite=!0},$=()=>{e.isSite=!1};return ce(()=>{e.routeUrl=u.path,p(),C(),_.info.index_pop_pc_enable&&_.info.index_pop_pc_img&&!localStorage.getItem("pop_pc_enable")&&(e.dialogVisiblePop=!0),localStorage.getItem("isTopImg")&&(e.isTopImg=!1)}),{activeIndex:a,counter:_,logouts:V,searchData:r,closePop:z,search:A,selectType:F,enter:H,leave:M,cartCount:E,showSubsite:P,hideSubsite:R,setSiteId:J,hideTopImg:j,showSite:Q,hideSite:$,getCustomSite:_e,inputKeywords:x,handleEnterKey:n,...ue(e)}}},Ee={id:"header",class:"header"},xe={class:"container main-header clearfix"},Le={style:{float:"left"}},Te={class:"site-logo"},Be=["src"],Ne={class:"slogan"},De={class:"search-wrapper"},qe={class:"form-inline",method:"get"},Ue={class:"mt-4"},Ke={key:0,class:"search-hot-list-box hidden-xs"},Ae={class:"search-hot-list"},Fe={class:"pop-pc"};function He(s,a,u,e,y,d){const r=k("router-link"),p=k("Search"),m=ye,w=we,S=be,I=k("ShoppingTrolley"),N=G,_=Ie,V=Se,C=ke,E=X;return h(),f(B,null,[l("div",Ee,[l("div",xe,[l("div",Le,[o(r,{to:"/index"},{default:c(()=>[l("div",Te,[l("img",{src:e.counter.info.site_pc_logo,width:"192"},null,8,Be)]),l("div",Ne,T(e.counter.info.site_name),1)]),_:1})]),l("div",De,[l("div",qe,[l("div",Ue,[o(S,{modelValue:s.keywords,"onUpdate:modelValue":a[0]||(a[0]=n=>s.keywords=n),size:"large",placeholder:s.$t("请输入搜索关键词"),class:"input-with-select",onInput:e.inputKeywords,onKeyup:ge(e.handleEnterKey,["enter"])},{append:c(()=>[o(w,{size:"small",color:"#21ADEA",onClick:e.search},{default:c(()=>[o(m,{style:{"font-size":"20px"}},{default:c(()=>[o(p,{color:"#fff"})]),_:1})]),_:1},8,["onClick"])]),_:1},8,["modelValue","placeholder","onInput","onKeyup"])])]),s.search_hot_words?(h(),f("div",Ke,[l("ul",Ae,[(h(!0),f(B,null,he(s.search_hot_words,(n,x)=>(h(),f("li",{key:x},[o(r,{to:{path:"/product/lists",query:{keywords:n}}},{default:c(()=>[U(T(n),1)]),_:2},1032,["to"])]))),128))])])):fe("",!0)]),l("div",{class:"topbar-cart",id:"J_miniCartTrigger",onMouseenter:a[1]||(a[1]=(...n)=>e.enter&&e.enter(...n)),onMouseleave:a[2]||(a[2]=(...n)=>e.leave&&e.leave(...n))},[o(r,{rel:"nofollow",class:"cart-mini",id:"J_miniCartBtn",to:"/cart/order"},{default:c(()=>[o(m,{class:"cart-img"},{default:c(()=>[o(I)]),_:1}),U(" "+T(s.$t("我的购物车"))+"   ",1)]),_:1})],32)])]),o(_,{modelValue:s.dialogVisible,"onUpdate:modelValue":a[4]||(a[4]=n=>s.dialogVisible=n),width:"840px",draggable:""},{default:c(()=>[o(N,{onCancel:a[3]||(a[3]=n=>s.dialogVisible=!1)})]),_:1},8,["modelValue"]),o(_,{modelValue:s.dialogVisiblePop,"onUpdate:modelValue":a[5]||(a[5]=n=>s.dialogVisiblePop=n),draggable:"",onClose:e.closePop},{default:c(()=>[l("div",Fe,[o(C,{href:e.counter.info.index_pop_pc_url},{default:c(()=>[o(V,{src:e.counter.info.index_pop_pc_img},null,8,["src"])]),_:1},8,["href"])])]),_:1},8,["modelValue","onClose"]),o(E)],64)}const Me=K(Ce,[["render",He]]),Pe=ve({setup(){}});function Re(s,a,u,e,y,d){const r=O,p=Me,m=k("router-view"),w=W;return h(),f(B,null,[o(r),o(p),o(m),o(w)],64)}const ut=K(Pe,[["render",Re],["__scopeId","data-v-e55e0f04"]]);export{ut as default};
